{"version":3,"sources":["webpack:///D:/workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue?b819","webpack:///D:/workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue?790b","webpack:///D:/workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue?1b32","webpack:///D:/workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue?a9a4","webpack:///D:/workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue"],"names":["props","prop","String","label","disabled","Boolean","labelWidth","labelPosition","showMessage","type","default","justify","validateOnValueChange","data","required","message","error","validator","computed","label2","labelWidth2","parent","labelPosition2","showMessage2","contentWidth","isJustify","isRequired","isError","isSuffix","$scopedSlots","suffix","isDisabled","isLabelPosition","getParent","call","rules","rules2","changeRule","destroyed","removeField","methods","addField","rule","Array","forEach","e","AsyncValidator","onResponse","value","action","$nextTick","validate","onListener","unwatch","$watch","model","val","deep","errors","fields"],"mappings":"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","file":"cool/ui/components/form-item/form-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./form-item.vue?vue&type=template&id=018f4698&\"\nvar renderjs\nimport script from \"./form-item.vue?vue&type=script&lang=js&\"\nexport * from \"./form-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"workspaces/hbuilder/uiapp/car-lamp/cool/ui/components/form-item/form-item.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=template&id=018f4698&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../softwares/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-item.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport AsyncValidator from \"../../utils/async-validator\";\nimport { getParent } from \"../../utils\";\n\nexport default {\n\tprops: {\n\t\tprop: String,\n\t\tlabel: String,\n\t\tdisabled: Boolean,\n\t\tlabelWidth: String,\n\t\tlabelPosition: String,\n\t\tshowMessage: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tjustify: {\n\t\t\ttype: String,\n\t\t\tdefault: \"start\"\n\t\t},\n\t\tvalidateOnValueChange: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\trequired: false,\n\t\t\tmessage: null,\n\t\t\terror: false,\n\t\t\tvalidator: null\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tlabel2() {\n\t\t\treturn this.label == \"true\" ? \"\" : this.label;\n\t\t},\n\n\t\tlabelWidth2() {\n\t\t\treturn this.labelWidth || this.parent.labelWidth;\n\t\t},\n\n\t\tlabelPosition2() {\n\t\t\treturn this.labelPosition || this.parent.labelPosition;\n\t\t},\n\n\t\tshowMessage2() {\n\t\t\treturn (this.showMessage || this.parent.showMessage) && this.error;\n\t\t},\n\n\t\tcontentWidth() {\n\t\t\treturn `calc(100% - ${this.labelWidth} - 20rpx)`;\n\t\t},\n\n\t\tisJustify() {\n\t\t\treturn this.justify !== \"start\" ? `is-justify-${this.justify}` : \"\";\n\t\t},\n\n\t\tisRequired() {\n\t\t\treturn this.required ? \"cl-form-item--required\" : \"\";\n\t\t},\n\n\t\tisError() {\n\t\t\treturn this.error ? \"cl-form-item--error\" : \"\";\n\t\t},\n\n\t\tisSuffix() {\n\t\t\treturn this.$scopedSlots.suffix ? \"cl-form-item--suffix\" : \"\";\n\t\t},\n\n\t\tisDisabled() {\n\t\t\treturn this.disabled ? \"cl-form-item--disabled\" : \"\";\n\t\t},\n\n\t\tisLabelPosition() {\n\t\t\treturn this.labelPosition2\n\t\t\t\t? `cl-form-item--${this.labelPosition2}`\n\t\t\t\t: \"\";\n\t\t},\n\n\t\tparent() {\n\t\t\tlet parent = getParent.call(this, \"ClForm\", [\n\t\t\t\t\"labelWidth\",\n\t\t\t\t\"labelPosition\",\n\t\t\t\t\"showMessage\",\n\t\t\t\t\"model\",\n\t\t\t\t\"addField\",\n\t\t\t\t\"removeField\",\n\t\t\t\t\"validateOnValueChange\",\n\t\t\t\t\"rules2\"\n\t\t\t]);\n\n\t\t\tparent.rules = parent.rules2;\n\n\t\t\tthis.changeRule(parent);\n\n\t\t\treturn parent;\n\t\t}\n\t},\n\n\tdestroyed() {\n\t\tif (this.parent.removeField) {\n\t\t\tthis.parent.removeField(this.prop);\n\t\t}\n\t},\n\n\tmethods: {\n\t\tchangeRule({ rules = {}, addField }) {\n\t\t\tif (!rules) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst rule = rules[this.prop];\n\n\t\t\tif (rule) {\n\t\t\t\tthis.required = false;\n\t\t\t\tthis.message = \"\";\n\n\t\t\t\tif (rule instanceof Array) {\n\t\t\t\t\trule.forEach(e => {\n\t\t\t\t\t\tif (e.required) {\n\t\t\t\t\t\t\tthis.required = e.required;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (e.message) {\n\t\t\t\t\t\t\tthis.message = e.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.required = rule.required;\n\t\t\t\t\tthis.message = rule.message;\n\t\t\t\t}\n\n\t\t\t\t// 检验器\n\t\t\t\tthis.validator = new AsyncValidator({\n\t\t\t\t\t[this.prop]: rule\n\t\t\t\t});\n\n\t\t\t\t// 响应事件\n\t\t\t\taddField(this.prop, this.onResponse);\n\t\t\t}\n\t\t},\n\n\t\tonResponse({ value, action }) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tif (action == \"clear\") {\n\t\t\t\t\tthis.error = false;\n\t\t\t\t}\n\n\t\t\t\tif (action == \"validate\") {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.validateOnValueChange ||\n\t\t\t\t\t\tthis.parent.validateOnValueChange\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.validate(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tonListener(parent) {\n\t\t\tlet unwatch = this.$watch(\n\t\t\t\t() => {\n\t\t\t\t\treturn parent.model[this.prop];\n\t\t\t\t},\n\t\t\t\tval => {\n\t\t\t\t\tthis.validate(val);\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdeep: false\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// unwatch();\n\t\t},\n\n\t\tvalidate(val) {\n\t\t\tthis.validator.validate({ [this.prop]: val }, (errors, fields) => {\n\t\t\t\tthis.error = errors;\n\t\t\t});\n\t\t}\n\t}\n};\n"],"sourceRoot":""}