{"version":3,"sources":["webpack:////Users/tangyong/workspace/hbuilder/car-lamp/main.js","webpack:////Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue?ed6f","webpack:////Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue?894b","webpack:////Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue?07a2","webpack:////Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue?f43b","webpack:////Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue"],"names":["createPage","Page","data","pop_visible","newDeviceLoad","searchLoad","adapterState","discovering","available","list","bleInfo","computed","getOldDevices","$store","getters","methods","openPop","item","startBluetoothDevicesDiscovery","that","uni","success","e","onBluetoothDeviceFound","fail","setTimeout","stopBluetoothDevicesDiscovery","devices","getBluetoothDevices","res","oldDevices","filter","name","some","old","ble","stop","createBLEConnection","showToast","title","icon","duration","connection","hideToast","read","onShow","setNavigationBarTitle","getDevice","onLoad","deviceId"],"mappings":"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","file":"pages/ble/ble.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/ble/ble.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ble.vue?vue&type=template&id=b4c4abca&\"\nvar renderjs\nimport script from \"./ble.vue?vue&type=script&lang=js&\"\nexport * from \"./ble.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b4c4abca')) {\n      api.createRecord('b4c4abca', component.options)\n    } else {\n      api.reload('b4c4abca', component.options)\n    }\n    module.hot.accept(\"./ble.vue?vue&type=template&id=b4c4abca&\", function () {\n      api.rerender('b4c4abca', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/tangyong/workspace/hbuilder/car-lamp/pages/ble/ble.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ble.vue?vue&type=template&id=b4c4abca&\"","var components = {\n  \"cl-card\": () =>\n    import(/* webpackChunkName: \"cool/ui/components/card/card\" */ \"@/cool/ui/components/card/card.vue\"),\n  \"cl-button\": () =>\n    import(/* webpackChunkName: \"cool/ui/components/button/button\" */ \"@/cool/ui/components/button/button.vue\"),\n  \"cl-list\": () =>\n    import(/* webpackChunkName: \"cool/ui/components/list/list\" */ \"@/cool/ui/components/list/list.vue\"),\n  \"cl-popup\": () =>\n    import(/* webpackChunkName: \"cool/ui/components/popup/popup\" */ \"@/cool/ui/components/popup/popup.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ble.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ble from '@/static/js/ble.js'\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tpop_visible: false,\n\t\t\tnewDeviceLoad: false,\n\t\t\tsearchLoad: false,\n\t\t\tadapterState: {\n\t\t\t\tdiscovering: false, //是否正在扫描\n\t\t\t\tavailable: false //是否设备正常\n\t\t\t},\n\t\t\tlist: [],\n\t\t\tbleInfo: {}\n\t\t}\n\t},\n\tcomputed: {\n\t\tgetOldDevices() {\n\t\t\treturn this.$store.getters.getOldDevices;\n\t\t}\n\t},\n\tmethods: {\n\t\topenPop(item) {\n\t\t\tthis.pop_visible = true;\n\t\t\tthis.bleInfo = item;\n\t\t},\n\t\tstartBluetoothDevicesDiscovery() {\n\t\t\tthis.list = [];\n\t\t\tthis.searchLoad = true;\n\t\t\tthis.newDeviceLoad = true;\n\t\t\tvar that = this;\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tsuccess: e => {\n\t\t\t\t\tthis.onBluetoothDeviceFound();\n\t\t\t\t},\n\t\t\t\tfail: e => {}\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.stopBluetoothDevicesDiscovery();\n\t\t\t}, 1000 * 30)\n\t\t},\n\t\tonBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound(devices => {\n\t\t\t\tthis.getBluetoothDevices();\n\t\t\t});\n\t\t},\n\t\tgetBluetoothDevices() {\n\t\t\tuni.getBluetoothDevices({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tvar oldDevices = this.$store.getters.getOldDevices;\n\t\t\t\t\tthis.list = res.devices.filter(item => item.name != \"未知设备\" && !(oldDevices.some(old => old.name == item.name)));\n\t\t\t\t},\n\t\t\t\tfail: e => {}\n\t\t\t});\n\t\t},\n\t\tstopBluetoothDevicesDiscovery() {\n\t\t\tvar that = this;\n\t\t\tble.stop(function(){\n\t\t\t\tthat.newDeviceLoad = false;\n\t\t\t\tthat.searchLoad = false;\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 连接低功耗蓝牙\n\t\t */\n\t\tcreateBLEConnection(item) {\n\t\t\tvar that = this;\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '连接蓝牙...',\n\t\t\t\ticon: 'loading',\n\t\t\t\tduration: 99999\n\t\t\t});\n\t\t\tble.connection(item,function(){\n\t\t\t\tuni.hideToast();\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '连接成功',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\t\t\t\tthat.stopBluetoothDevicesDiscovery();\n\t\t\t\tble.read();\n\t\t\t})\n\t\t}\n\t\t\n\t},\n\tonShow() {\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: this.$store.getters.getDevice.name\n\t\t});\n\t},\n\tonLoad() {\n\t\tvar that = this;\n\t\tif (!this.$store.getters.getDevice.deviceId) {\n\t\t\tthat.startBluetoothDevicesDiscovery();\n\t\t}\n\n\t}\n}\n"],"sourceRoot":""}